(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{lu3c:function(o,t,n){"use strict";n.r(t),n.d(t,"LoginModule",function(){return f});var e=n("ofXK"),r=n("tyNb"),i=n("mrSG"),a=n("3Pt+"),s=n("fXoL"),c=n("on2l"),l=n("N/25"),d=n("5eHb");function b(o,t){1&o&&(s.Sb(0,"div",34),s.uc(1," Todos los campos deben ser llenados "),s.Rb())}function u(o,t){1&o&&(s.Sb(0,"div",34),s.uc(1," El correo y/o la contrase\xf1a son incorrectos "),s.Rb())}const g=function(){return["/register"]},p=function(){return["/contrase\xf1aOlvidada"]},m=[{path:"",component:(()=>{class o{constructor(o,t,n,e,r){this._usuarioService=o,this.authSvc=t,this.router=n,this.toastr=e,this.fb=r,this.user$=this.authSvc.user$,this.submitted=!1,this.confirmarLogin=!1,this.usuarioLogin=this.fb.group({email:["",a.p.required,a.p.email],password:["",a.p.required]})}onGoogleLogin(){return Object(i.b)(this,void 0,void 0,function*(){try{const o=yield this.authSvc.loginGoogle();setTimeout(()=>{o?(this.checkUserIsVerified(o),this.toastr.success(o.displayName,"!Bienvenido a ViveRegistro!",{positionClass:"toast-bottom-right"})):this.confirmarLogin=!0},1500)}catch(o){console.log(o)}})}onLogin(){return Object(i.b)(this,void 0,void 0,function*(){try{if(this.submitted=!0,this.usuarioLogin.invalid)return;const{email:o,password:t}=this.usuarioLogin.value,n=yield this.authSvc.login(o,t);setTimeout(()=>{n?this.checkUserIsVerified(n):this.confirmarLogin=!0},1500)}catch(o){console.log(o)}})}checkUserIsVerified(o){this._usuarioService.getUsuario(o.uid).subscribe(t=>{let n=t.payload.data().verificacion;this.router.navigate(o&&o.emailVerified&&n?["/home"]:o&&o.emailVerified&&!n?["/inicio"]:["/verificar"])})}}return o.\u0275fac=function(t){return new(t||o)(s.Nb(c.a),s.Nb(l.a),s.Nb(r.b),s.Nb(d.b),s.Nb(a.b))},o.\u0275cmp=s.Hb({type:o,selectors:[["app-login"]],decls:51,vars:7,consts:[[1,"d-flex","text-center","mt-5","mb-5","justify-content-center","align-items-center"],[1,"rounded-5","p-4","shadow-lg",2,"width","50rem","height","auto"],[1,"container"],[1,"row"],[1,"col-12","col-md-6","my-2","col-lg-6"],[1,"col-12"],["src","../../../assets/logo/logo-dark.svg","alt","Logo del proyecto como presentaci\xf3n",2,"width","35px"],[1,"display-6","fw-bold","mb-4"],[1,"row","justify-content-center"],[1,"col-11"],[3,"formGroup","ngSubmit"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"Form-fields","text-start"],["type","email","id","email","placeholder","alguien@example.com","formControlName","email","required","",1,"ControlInput","ControlInput--email","rounded-3"],["for","email",1,"Control-label","Control-label--email"],[1,"Control-requirements","Control-requirements--email"],["type","checkbox","id","show-password",1,"show-password"],["for","show-password",1,"Control-label","Control-label--showPassword"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","32","height","32","title","Toggle Password Security",1,"svg-toggle-password"],["d","M24,9A23.654,23.654,0,0,0,2,24a23.633,23.633,0,0,0,44,0A23.643,23.643,0,0,0,24,9Zm0,25A10,10,0,1,1,34,24,10,10,0,0,1,24,34Zm0-16a6,6,0,1,0,6,6A6,6,0,0,0,24,18Z"],["x","20.133","y","2.117","height","44","transform","translate(23.536 -8.587) rotate(45)",1,"closed-eye"],["x","22","y","3.984","width","4","height","44","transform","translate(25.403 -9.36) rotate(45)",1,"closed-eye",2,"fill","#fff"],["type","text","id","password","placeholder","*********","autocomplete","off","autocapitalize","off","autocorrect","off","required","","pattern",".{5,}","formControlName","password",1,"ControlInput","ControlInput--password","rounded-3"],["for","password",1,"Control-label","Control-label--password"],[1,"Control-requirements"],["type","submit",1,"btn","btn-primary","mt-1","mb-2","mx-auto","rounded-3","px-5",3,"click"],[1,"my-2","text-center"],[3,"routerLink"],[1,"text-center"],[1,"col-12","card-cover","my-2","col-md-6","col-lg-6","p-4","rounded-5","d-flex","align-items-center","justify-content-center",2,"background-image","url('https://images.unsplash.com/photo-1502239608882-93b729c6af43?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80')"],[1,"form-group","mt-3","text-white"],[1,"mt-5"],[1,"fs-1","fw-bold"],[1,"btn","btn-lg","btn-danger","px-3","rounded-3","py-3",3,"click"],["role","alert",1,"alert","alert-warning"]],template:function(o,t){1&o&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.Sb(5,"div",3),s.Sb(6,"div",5),s.Ob(7,"img",6),s.Sb(8,"h1",7),s.uc(9," Iniciar sesi\xf3n "),s.Rb(),s.Rb(),s.Rb(),s.Sb(10,"div",8),s.Sb(11,"div",9),s.Sb(12,"form",10),s.Zb("ngSubmit",function(){return t.onLogin()}),s.sc(13,b,2,0,"div",11),s.sc(14,u,2,0,"div",11),s.Sb(15,"div",12),s.Ob(16,"input",13),s.Sb(17,"label",14),s.uc(18," Email: "),s.Rb(),s.Sb(19,"div",15),s.uc(20," Ingresa un correo valido, recuerda poner '@example.com'. "),s.Rb(),s.Ob(21,"input",16),s.Sb(22,"label",17),s.cc(),s.Sb(23,"svg",18),s.Sb(24,"title"),s.uc(25," Ocultar/Mostrar Password "),s.Rb(),s.Ob(26,"path",19),s.Ob(27,"rect",20),s.Ob(28,"rect",21),s.Rb(),s.Rb(),s.bc(),s.Ob(29,"input",22),s.Sb(30,"label",23),s.uc(31," Contrase\xf1a: "),s.Rb(),s.Sb(32,"div",24),s.uc(33," Recuerda que la contrase\xf1a tiene como m\xednimo 6 caracteres. "),s.Rb(),s.Sb(34,"button",25),s.Zb("click",function(){return t.onLogin()}),s.uc(35," Iniciar sesi\xf3n "),s.Rb(),s.Sb(36,"div",26),s.Sb(37,"a",27),s.uc(38," \xbfAun no tienes cuenta? "),s.Rb(),s.Rb(),s.Sb(39,"div",28),s.Sb(40,"a",27),s.uc(41," Olvid\xe9 mi contrase\xf1a "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(42,"div",29),s.Sb(43,"div",30),s.Sb(44,"div",31),s.Sb(45,"h1",32),s.uc(46," ingresa con Google "),s.Rb(),s.Rb(),s.Sb(47,"div",31),s.Sb(48,"button",33),s.Zb("click",function(){return t.onGoogleLogin()}),s.Sb(49,"span"),s.uc(50," Iniciar sesi\xf3n con Google "),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&o&&(s.Bb(12),s.gc("formGroup",t.usuarioLogin),s.Bb(1),s.gc("ngIf",t.submitted&&t.usuarioLogin.invalid),s.Bb(1),s.gc("ngIf",t.confirmarLogin),s.Bb(23),s.gc("routerLink",s.hc(5,g)),s.Bb(3),s.gc("routerLink",s.hc(6,p)))},directives:[a.r,a.i,a.f,e.j,a.a,a.h,a.e,a.n,a.l,r.e],styles:["a[_ngcontent-%COMP%]{text-decoration:none;outline:none}.Form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Control-label[_ngcontent-%COMP%]{color:#423e3d;font-weight:700;transition:color .3s ease}.Control-requirements[_ngcontent-%COMP%]{background:pink;border-top:none;margin:-14px 0 15px;max-height:0;overflow:hidden;transition:all .2s ease;padding:0 9px}.ControlInput[_ngcontent-%COMP%]{border-radius:3px;box-shadow:inset 0 1px 3px rgba(197,193,192,0);color:#6d6665;margin:.8em 0;border:1px solid #c5c1c0;padding:.6em;transition:box-shadow .3s ease-out}.ControlInput[_ngcontent-%COMP%]:hover{box-shadow:inset 0 1px 3px rgba(197,193,192,.4)}.ControlInput[_ngcontent-%COMP%]:focus{outline:3px auto #2bbee7}.ControlInput[_ngcontent-%COMP%]:invalid:not(:focus):not(:placeholder-shown){border-color:#d16262;border-bottom:none}.ControlInput[_ngcontent-%COMP%]:invalid:not(:focus):not(:placeholder-shown) + .Control-label[_ngcontent-%COMP%]{color:#d16262}.ControlInput[_ngcontent-%COMP%]:invalid:not(:focus):not(:placeholder-shown) + .Control-label[_ngcontent-%COMP%] + .Control-requirements[_ngcontent-%COMP%]{max-height:100px;border:1px solid #d16262}.ControlInput[_ngcontent-%COMP%]:valid:not(:focus):not(:placeholder-shown){border-color:#5fa550}.ControlInput[_ngcontent-%COMP%]:valid:not(:focus):not(:placeholder-shown) + .Control-label[_ngcontent-%COMP%]{color:#5fa550}.Control-requirements--email[_ngcontent-%COMP%], .ControlInput--email[_ngcontent-%COMP%]{order:-1}.Control-label--email[_ngcontent-%COMP%]{order:-2}.ControlInput--password[_ngcontent-%COMP%]{order:0;padding-right:50px}.Control-label--password[_ngcontent-%COMP%]{order:-1;margin-bottom:-32px}.Control-label--showPassword[_ngcontent-%COMP%]{width:32px;position:relative;top:60px;left:100%;text-align:right;margin-left:-36px}.Form-submit[_ngcontent-%COMP%]{border:1px solid #e7542b;background-color:#e7542b;border-radius:3px;color:#fff;display:block;width:100%;max-width:100%;pointer-events:none;opacity:.6;cursor:default;transition:opacity .3s ease-out,max-width .15s ease-out;outline:none;position:relative;margin:auto}.Form-submit[_ngcontent-%COMP%]:hover{background-color:#c83d17}.Form-submit[_ngcontent-%COMP%]:active{background-color:#9b2f11;max-width:50px;overflow:hidden;text-indent:300px}.Form-submit[_ngcontent-%COMP%]:active   .Button-spinner[_ngcontent-%COMP%]{opacity:1}.ControlInput--email[_ngcontent-%COMP%]:valid ~ .ControlInput--password[_ngcontent-%COMP%]:valid ~ .Form-submit[_ngcontent-%COMP%]{cursor:pointer;pointer-events:auto;opacity:1}.show-password[_ngcontent-%COMP%]{display:none}.show-password[_ngcontent-%COMP%]:checked ~ .ControlInput--password[_ngcontent-%COMP%]{text-security:disc;-webkit-text-security:disc;-moz-text-security:disc}.show-password[_ngcontent-%COMP%]:checked ~ .Control-label--showPassword[_ngcontent-%COMP%]   .svg-toggle-password[_ngcontent-%COMP%]   .closed-eye[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease,height .4s ease;width:4px;height:44px}.svg-toggle-password[_ngcontent-%COMP%]{fill:rgba(0,142,214,.5)}.svg-toggle-password[_ngcontent-%COMP%]   .closed-eye[_ngcontent-%COMP%]{opacity:0;height:0}.Button[_ngcontent-%COMP%]{padding:10px;-webkit-user-select:none;user-select:none}.spinner[_ngcontent-%COMP%]{animation:dash 2s linear infinite;animation-direction:normal}@keyframes dash{0%{stroke-dashoffset:0;stroke-dasharray:150.6 100.4}50%{stroke-dasharray:1 250}to{stroke-dashoffset:502;stroke-dasharray:150.6 100.4}}@keyframes spinner-in{0%{opacity:0}20%,80%{opacity:1}to{opacity:0}}html[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}body[_ngcontent-%COMP%]{background-color:#f1f2f1;background-image:linear-gradient(#e7e8e7,#f1f2f1);display:flex;min-height:100%}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:inherit}",".rounded-5[_ngcontent-%COMP%] {\n      border-radius: 2rem;\n   }\n\n   .card-cover[_ngcontent-%COMP%] {\n      background-position: center;\n      background-size: cover;\n      background-repeat: no-repeat;\n   }"]}),o})()}];let h=(()=>{class o{}return o.\u0275mod=s.Lb({type:o}),o.\u0275inj=s.Kb({factory:function(t){return new(t||o)},imports:[[r.f.forChild(m)],r.f]}),o})(),f=(()=>{class o{}return o.\u0275mod=s.Lb({type:o}),o.\u0275inj=s.Kb({factory:function(t){return new(t||o)},imports:[[e.c,h,a.m]]}),o})()}}]);